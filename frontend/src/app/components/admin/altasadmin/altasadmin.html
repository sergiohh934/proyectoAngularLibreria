<app-headeradmin></app-headeradmin>

<div class="container mt-4">
  <div class="card p-4 shadow-sm">
    <h2 class="mb-3">Agregar Libro</h2>
    <form (ngSubmit)="agregarLibro()">

      <!-- Título -->
      <div class="mb-3">
        <label class="form-label">Título:</label>
        <input type="text" class="form-control" [(ngModel)]="libro.titulo" name="titulo" required />
      </div>

      <!-- Autor -->
      <div class="mb-3">
        <label class="form-label">Autor:</label>
        <input type="text" class="form-control" [(ngModel)]="libro.autor" name="autor" required />
      </div>

      <!-- Descripción -->
      <div class="mb-3">
        <label class="form-label">Descripción:</label>
        <textarea class="form-control" rows="3" [(ngModel)]="libro.descripcion" name="descripcion"></textarea>
      </div>

      <!-- Precio y Stock en la misma fila -->
      <div class="row g-3 mb-3">
        <div class="col-md-6">
          <label class="form-label">Precio:</label>
          <input type="number" class="form-control" min="0" [(ngModel)]="libro.precio" name="precio" required />
        </div>
        <div class="col-md-6">
          <label class="form-label">Stock:</label>
          <input type="number" class="form-control" min="0" [(ngModel)]="libro.stock" name="stock" required />
        </div>
      </div>

      <!-- ISBN y Categoría en la misma fila -->
      <div class="row g-3 mb-3">
        <div class="col-md-6">
          <label class="form-label">ISBN:</label>
          <input type="number" class="form-control" [(ngModel)]="libro.isbn" name="isbn" required />
        </div>
        <div class="col-md-6">
          <label class="form-label">Categoría:</label>
          <input type="text" class="form-control" [(ngModel)]="libro.categoria" name="categoria" required />
        </div>
      </div>

      <!-- Imagen -->
      <div class="mb-3">
        <label class="form-label">Imagen:</label>
        <input type="file" class="form-control" (change)="onFileSelected($event)" />
      </div>

      <!-- Botón Agregar -->
      <button type="submit" class="btn btn-primary w-100">Agregar Libro</button>

    </form>
  </div>
</div>
<!-- TOASTS -->
<div class="toast-container position-fixed top-0 end-0 p-3">

  <!-- Toast de éxito -->
  <div id="toastSuccess" class="toast align-items-center text-bg-success border-0" role="alert">
    <div class="d-flex">
      <div class="toast-body">
        Libro creado correctamente
      </div>
      <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
    </div>
  </div>

  <!-- Toast de error -->
  <div id="toastError" class="toast align-items-center text-bg-danger border-0" role="alert">
    <div class="d-flex">
      <div class="toast-body">
        Error al crear el libro
      </div>
      <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
    </div>
  </div>

</div>
